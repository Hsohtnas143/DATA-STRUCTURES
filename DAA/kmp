#include<stdio.h>

void pi_table(char str[], int pi[], int len)
{
	int i=0,j=1;
	pi[0] = 0;
	while(j<len)
	{
		if(str[i] == str[j])
		{
			pi[j] = i+1;
			i++;
			j++;
		}
		else if(i==0)
		{
			pi[j] = 0;
			j++;
		}
		else
		{
			i = pi[i-1];
		}
	}
}

int str_len(char str[])
{
	int i=0;
	while(str[i]!='\0')
	{
		i++;
	}
	return i;
}


int check(char str[], char sub_str[], int pi[], int len, int len1)
{
	int i=0,j=0;
	while(i<len && j<len1)
	{
		if(str[i] == sub_str[j])
		{
			i++;
			j++;
		}
		else if(j!=0)
		{
			j = pi[j-1];
		}
		else
		{
			i++;
		}
	}
	if(j==len1)
	{
		return i-len1;
	}
	else
	{
		return -1;
	}
}

int main()
{
	char str[1000];
	char sub_str[1000];
	printf("\nenter string : ");
	scanf("%s",str);
	printf("\enter the sub-string : ");
	scanf("%s",sub_str);
	int len = str_len(str);
	int len1 = str_len(sub_str);
	int pi[len1];
	pi_table(sub_str,pi,len1);
	int i;
	i = check(str,sub_str,pi,len,len1);
	if(i==-1)
	{
		printf("\nstring not found");
	}
	else
	{
		printf("\nstring found at index : %d",i);
	}
}
